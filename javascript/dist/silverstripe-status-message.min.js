/*
 *  Javascript status notifications - v0.0.1
 *  Javascript status notifications
 *  
 *
 *  Made by Corey Sewell - Guru Digital Media
 *    Email corey@gdmedia.tv
 *  Under BSD-3-Clause License
 */
!function(a){function b(a,d,g,h){function j(a,b,d,e){return e=e?e:{},e.sticky&&(e.extendedTimeOut=0,e.timeOut=0),b===c.SUCCESS?toastr.success(a,d,e):b===c.INFO?toastr.info(a,d,e):b===c.LOADING?(e.iconClass=(e.iconClass?e.iconClass+" ":"")+"toast-info toast-icon-loading",toastr.info(a,d,e)):b===c.DANGER?toastr.error(a,d,e):b===c.WARNING?toastr.warning(a,d,e):void 0}function k(a,b,c,d){var f={content:a,type:b,title:c,options:d,proxy:function(a){return{hide:function(){var b=function(){var c="hide";e[a]&&e[a].toast&&"function"==typeof e[a].toast[c]?e[a].toast[c].call(e[a].toast,arguments):setTimeout(b,20)};b(arguments)}}}(e.length)};return e.push(f),e[e.length-1].proxy}function l(a,b,c,d){f=!0;var e=document.createElement("script"),g=document.getElementsByTagName("base")[0],h=k(a,b,c,d);return e.src=g.href+"silverstripe-status-message/javascript/thirdparty/toastr/toastr.min.js",e.onreadystatechange=e.onload=function(){var a=e.readyState;!f||a&&!/loaded|complete/.test(a)||(m(),f=!1)},document.getElementsByTagName("head")[0].appendChild(e),h}function m(){for(i=0;i<e.length;i++){var a=e[i];e[i].toast=b(a.content,a.type,a.title,a.options)}}return"undefined"==typeof toastr?f?k(a,d,g,h):l(a,d,g,h):j(a,d,g,h)}var c={SUCCESS:"success",DANGER:"danger",INFO:"info",LOADING:"loading",WARNING:"warning",forForm:function(a){var b="bad";return b=a===c.SUCCESS||a===c.INFO||a===c.LOADING?"good":a===c.DANGER?"bad":a===c.WARNING?"warning":a?"good":"bad"},fromForm:function(a){var b=c.DANGER;return b="good"===a?c.SUCCESS:"bad"===a?c.DANGER:"warning"===a?c.WARNING:a?c.SUCCESS:c.DANGER}},d=function(){function a(a,b,c,d){var e;return(e="function"==typeof j.conf.adapters[j.conf.adapter]?j.conf.adapters[j.conf.adapter]:j.conf.adapters["default"])(a,b,c,d)}function b(b,d,e){return a(b,c.INFO,d,e)}function d(b,d,e){return a(b,c.WARNING,d,e)}function e(b,d,e){return a(b,c.SUCCESS,d,e)}function f(b,d,e){return a(b,c.DANGER,d,e)}function g(b,d,e){return a(b,c.LOADING,d,e)}function h(a,b){j.conf.adapters[a]=b}function i(a){j.conf.adapter=a}var j=this;return j.conf={adapter:"",adapters:{}},{create:a,info:b,warning:d,success:e,danger:f,loading:g,addAdpater:h,setDefaultAdapter:i,conf:j.conf}}(),e=[],f=!1;d.addAdpater("default",b),d.setDefaultAdapter("default"),a.SS_StatusMessageTypes=c,a.SS_StatusMessage=d}(window);